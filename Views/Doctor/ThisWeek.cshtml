@model Dictionary<String, List<Termin>>
@{
    Layout = "Shared/_LayoutPage.cshtml";
    ViewBag.Title = "Nedeljni pregled";
}


<script>
    function ajaxPacijent(id) {
        $.ajax
            ({
                type: "POST",
                url: "/Doctor/detaljiTermin",
                data: '{id: "' + id + '" }',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {

                    $("#ime").text(response.ime);
                    $("#prezime").text(response.prezime);
                    $("#datumRodjenja").text(response.datumRodjenja);
                    $("#pol").text(response.pol);
                    $("#telefon").text(response.telefon);
                    $("#mail").text(response.mail);
                    $("#osiguran").text(response.osiguran);
                    $("#hronicar").text(response.hronicar);
                    $("#opis").text(response.opis);
                   $('#myModal').modal('show');
                },
                failure: function (response) {
                    alert(response.responseText);
                },
                error: function (response) {
                    alert(response.responseText);
                }
            });
    }
</script>
<div class="row">
    <div class="col">
        <div class="list-group">
            <a href="#" class="list-group-item active" style="word-wrap:break-word">
                <h4 class="list-group-item-heading" style="font-size:18px">Ponedeljak</h4>
            </a>
            @if (Model["Monday"].Count == 0)
            {
                <a href="#" class="list-group-item" style="border:1px solid;border-color:blue;border-radius:8px;background-color:#e6e6ff">
                    <p class="list-group-item-text">Nema termina</p>
                </a>
            }
            else
            {
                foreach (Termin t in Model["Monday"])
                {
                    <a href="#" class="list-group-item" style="border:1px solid;border-color:blue;border-radius:8px;background-color:#e6f3ff" onclick="ajaxPacijent('@t.idTermin')">
                        <p class="list-group-item-text">@t.TerminPocetak.ToString("HH:mm")-@t.TerminKraj.ToString("HH:mm")</p>
                    </a>
                }
            }
        </div>
    </div>
    <div class="col">
        <div class="list-group">
            <a href="#" class="list-group-item active" style="word-wrap:break-word">
                <h4 class="list-group-item-heading" style="font-size:18px">Utorak</h4>
            </a>
            @if (Model["Tuesday"].Count == 0)
            {
                <a href="#" class="list-group-item" style="border:1px solid;border-color:blue;border-radius:8px;background-color:#e6e6ff">
                    <p class="list-group-item-text">Nema termina</p>
                </a>
            }
            else
            {
                foreach (Termin t in Model["Tuesday"])
                {
                    <a href="#" class="list-group-item" style="border:1px solid;border-color:blue;border-radius:8px;background-color:#e6f3ff" onclick="ajaxPacijent('@t.idTermin')">
                        <p class="list-group-item-text">@t.TerminPocetak.ToString("HH:mm")-@t.TerminKraj.ToString("HH:mm")</p>
                    </a>
                }
            }
        </div>
    </div>
    <div class="col">
        <div class="list-group">
            <a href="#" class="list-group-item active" style="word-wrap:break-word">
                <h4 class="list-group-item-heading" style="font-size:18px">Sreda</h4>
            </a>
            @if (Model["Wednesday"].Count == 0)
            {
                <a href="#" class="list-group-item" style="border:1px solid;border-color:blue;border-radius:8px;background-color:#e6e6ff">
                    <p class="list-group-item-text">Nema termina</p>
                </a>
            }
            else
            {
                foreach (Termin t in Model["Wednesday"])
                {
                    <a href="#" class="list-group-item" style="border:1px solid;border-color:blue;border-radius:8px;background-color:#e6f3ff" onclick="ajaxPacijent('@t.idTermin')">
                        <p class="list-group-item-text">@t.TerminPocetak.ToString("HH:mm")-@t.TerminKraj.ToString("HH:mm")</p>
                    </a>
                }
            }
        </div>
    </div>
    <div class="col">
        <div class="list-group">
            <a href="#" class="list-group-item active" style="word-wrap:break-word">
                <h4 class="list-group-item-heading" style="font-size:18px">Cetvratak</h4>
            </a>
            @if (Model["Thursday"].Count == 0)
            {
                <a href="#" class="list-group-item" style="border:1px solid;border-color:blue;border-radius:8px;background-color:#e6e6ff">
                    <p class="list-group-item-text">Nema termina</p>
                </a>
            }
            else
            {
                foreach (Termin t in Model["Thursday"])
                {
                    <a href="#" class="list-group-item" style="border:1px solid;border-color:blue;border-radius:8px;background-color:#e6f3ff" onclick="ajaxPacijent('@t.idTermin')">
                        <p class="list-group-item-text">@t.TerminPocetak.ToString("HH:mm")-@t.TerminKraj.ToString("HH:mm")</p>
                    </a>
                }
            }
        </div>
    </div>
    <div class="col">
        <div class="list-group">
            <a href="#" class="list-group-item active" style="word-wrap:break-word">
                <h4 class="list-group-item-heading" style="font-size:18px">Petak</h4>
            </a>
            @if (Model["Friday"].Count == 0)
            {
                <a href="#" class="list-group-item" style="border:1px solid;border-color:blue;border-radius:8px;background-color:#e6e6ff">
                    <p class="list-group-item-text">Nema termina</p>
                </a>
            }
            else
            {
                foreach (Termin t in Model["Friday"])
                {
                    <a href="#" class="list-group-item" style="border:1px solid;border-color:blue;border-radius:8px;background-color:#e6f3ff" onclick="ajaxPacijent('@t.idTermin')">
                        <p class="list-group-item-text">@t.TerminPocetak.ToString("HH:mm")-@t.TerminKraj.ToString("HH:mm")</p>
                    </a>
                }
            }
        </div>
    </div>
</div>





<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="panel panel-default">
                    <div class="panel-heading" style="background-color:#e74c3c">
                        <h1 class="panel-title">Licni Podaci</h1>
                    </div>
                    <div class="panel-body">
                        <table class="table table-striped table-hover">
                            <tr>
                                <td><strong>Ime:</strong></td>
                                <td id="ime"></td>
                            </tr>
                            <tr>
                                <td><strong>Prezime:</strong></td>
                                <td id="prezime"></td>
                            </tr>
                            <tr>
                                <td><strong>Datum Rodjenja:</strong></td>
                                <td id="datumRodjenja"></td>
                            </tr>
                            <tr>
                                <td><strong>Pol:</strong></td>
                                <td id="pol"></td>
                            </tr>
                            <tr>
                                <td><strong>Telefon:</strong></td>
                                <td id="telefon"></td>
                            </tr>
                            <tr>
                                <td><strong>Mail:</strong></td>
                                <td id="mail"></td>
                            </tr>
                            <tr>
                                <td><strong>Osiguran:</strong></td>
                                <td id="osiguran"></td>
                            </tr>
                            <tr>
                                <td><strong>Hronicar:</strong></td>
                                <td id="hronicar"></td>
                            </tr>
                            <tr>
                                <td><strong>Opis:</strong></td>
                                <td id="opis"></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>